每個優秀的提示詞都具有共同的結構要素。理解這些元件可以讓你系統性地建構提示詞，而不是通過嘗試錯誤法。

<Callout type="tip" title="積木">
把這些元件想像成樂高積木。你不需要在每個提示詞中都使用所有元件，但瞭解有哪些可用的元件可以幫助你精確建構所需內容。
</Callout>

## 核心元件

一個有效的提示詞通常包含以下部分或全部元素：

<PromptBreakdown parts={[
  { label: "角色", text: "你是一位資深軟體工程師" },
  { label: "背景", text: "正在開發一個 React 應用程式。" },
  { label: "任務", text: "審查這段程式碼中的 bug" },
  { label: "約束", text: "只關注安全問題。" },
  { label: "格式", text: "以編號列表形式返回發現的問題。" },
  { label: "範例", text: "例如：1. 第42行存在 SQL 注入風險" }
]} />

讓我們詳細瞭解每個元件。

## 1. 角色/人設

設定角色可以使模型從特定專業知識或視角的角度來聚焦其回覆。

<Compare
  before={{ label: "沒有角色", content: "解釋量子計算。" }}
  after={{ label: "有角色", content: "你是一位物理學教授，擅長將複雜話題講解得通俗易懂。請解釋量子計算。" }}
/>

角色可以引導模型：
- 使用恰當的詞彙
- 運用相關的專業知識
- 保持一致的視角
- 適當考慮受眾

### 有效的角色模式

```
"你是一位擁有[X年][專業領域]經驗的[職業]"
"扮演一位[具有某特徵]的[角色]"
"你是一位[領域]專家，正在幫助一位[受眾類型]"
```

## 2. 背景/上下文

背景提供模型理解你情況所需的訊息。請記住：除非你告訴模型，否則它對你、你的專案或你的目標一無所知。

<Compare
  before={{ label: "弱背景", content: "修復我程式碼中的 bug。" }}
  after={{ label: "強背景", content: "我正在使用 Express.js 建構一個 Node.js REST API。該 API 使用 JWT 令牌處理使用者認證。當使用者嘗試存取受保護的路由時，即使使用有效的令牌也會收到 403 錯誤。以下是相關程式碼：[程式碼]" }}
/>

### 背景中應包含的內容

- **專案細節** — 技術棧、架構、約束條件
- **當前狀態** — 你已經嘗試過什麼、什麼有效、什麼無效
- **目標** — 你最終想要達成什麼
- **限制條件** — 時間限制、技術要求、風格指南

## 3. 任務/指令

任務是提示詞的核心——你希望模型做什麼。要具體且明確。

### 具體程度光譜

<SpecificitySpectrum levels={[
  { level: "模糊", text: "幫我處理這篇文章" },
  { level: "較好", text: "編輯這篇文章" },
  { level: "良好", text: "編輯這篇文章的語法和表達清晰度" },
  { level: "最佳", text: "編輯這篇文章的語法和表達清晰度，保持原有語氣但減少20%的冗餘內容" }
]} />

### 有效的行動動詞

<div className="my-4 grid gap-2">
  <div className="flex gap-2 p-3 bg-muted/50 rounded-lg">
    <span className="font-semibold min-w-32">創作類</span>
    <span className="text-muted-foreground">撰寫、建立、生成、編寫、設計</span>
  </div>
  <div className="flex gap-2 p-3 bg-muted/50 rounded-lg">
    <span className="font-semibold min-w-32">分析類</span>
    <span className="text-muted-foreground">分析、評估、比較、評價、審查</span>
  </div>
  <div className="flex gap-2 p-3 bg-muted/50 rounded-lg">
    <span className="font-semibold min-w-32">轉換類</span>
    <span className="text-muted-foreground">轉換、翻譯、重新格式化、總結、擴充</span>
  </div>
  <div className="flex gap-2 p-3 bg-muted/50 rounded-lg">
    <span className="font-semibold min-w-32">解釋類</span>
    <span className="text-muted-foreground">解釋、描述、闡明、定義、舉例說明</span>
  </div>
  <div className="flex gap-2 p-3 bg-muted/50 rounded-lg">
    <span className="font-semibold min-w-32">問題解決類</span>
    <span className="text-muted-foreground">解決、偵錯、修復、優化、改進</span>
  </div>
</div>

## 4. 約束/規則

約束限定模型的輸出範圍。它們可以防止常見問題並確保相關性。

### 約束類型

**長度約束：**
```
"將回復控制在200字以內"
"提供恰好5條建議"
"寫3-4段"
```

**內容約束：**
```
"不要包含任何程式碼範例"
"只關注技術方面"
"避免使用行銷語言"
```

**風格約束：**
```
"使用正式的學術語氣"
"像對10歲孩子說話一樣來寫"
"直接明瞭，避免模稜兩可的表達"
```

**範圍約束：**
```
"只考慮 Python 3.10+ 中可用的選項"
"建議僅限於免費工具"
"專注於不需要額外依賴的解決方案"
```

## 5. 輸出格式

指定輸出格式可確保你獲得結構可用的回覆。

### 常見格式

**列表：**
```
"以專案符號列表形式返回"
"提供編號步驟列表"
```

**結構化資料：**
```
"以 JSON 格式返回，包含以下鍵：title、description、priority"
"格式化為 markdown 表格，列名：功能、優點、缺點"
```

**特定結構：**
```
"按以下結構組織你的回覆：
 ## 摘要
 ## 要點
 ## 建議"
```

### JSON 輸出範例

```
分析這條客戶評價並返回 JSON：
{
  "sentiment": "positive" | "negative" | "neutral",
  "topics": ["主要話題陣列"],
  "rating_prediction": 1-5,
  "key_phrases": ["關鍵短語"]
}

評價："產品送達很快，使用效果很好，但說明書讓人困惑。"
```

## 6. 範例（少樣本學習）

範例是向模型展示你期望內容的最有效方式。

### 單樣本範例

```
將這些句子轉換為過去時。

範例：
輸入："她走路去商店"
輸出："她走路去了商店"

現在轉換：
輸入："他們每天早上跑步"
```

### 少樣本範例

```
按緊急程度對這些支援工單進行分類。

範例：
"我的帳戶被黑了" → 緊急
"如何更改密碼？" → 低
"付款失敗但我被扣款了" → 高

分類："打開設定時應用崩潰了"
```

## 綜合運用

以下是一個使用所有元件的完整提示詞：

<TryIt
  title="完整提示詞範例"
  description="此提示詞示範了六個元件如何協同工作。試試看，瞭解結構化提示詞如何產生專業的結果。"
  prompt={`# 角色
你是一位擁有10年開發者文件編寫經驗的資深技術文件工程師。

# 背景
我正在為一個支付處理服務編寫 REST API 文件。受眾是將我們的 API 整合到其應用程式中的開發者。他們具有中級程式設計知識，但可能對支付處理概念不太熟悉。

# 任務
為以下建立新支付意向的 API 端點編寫文件。

# 約束
- 使用清晰、簡潔的語言
- 包含常見錯誤場景
- 不要包含關於我們後端的實現細節
- 假設讀者瞭解 HTTP 和 JSON 基礎知識

# 輸出格式
按以下結構組織文件：
1. 端點概述（2-3句話）
2. 請求（方法、URL、請求頭、請求體及範例）
3. 回應（成功和錯誤範例）
4. 程式碼範例（使用 JavaScript/Node.js）

# 端點詳情
POST /v1/payments/intents
Body: { "amount": 1000, "currency": "usd", "description": "Order #1234" }`}
/>

## 最小有效提示詞

並非每個提示詞都需要所有元件。對於簡單任務，一個清晰的指令可能就足夠了：

```
將"Hello, how are you?"翻譯成西班牙語。
```

在以下情況下使用額外元件：
- 任務複雜或模糊
- 你需要特定格式
- 結果與預期不符
- 多次查詢之間需要保持一致性

## 常見提示詞模式

這些框架為你編寫提示詞時提供了簡單的檢查清單。點擊每個步驟查看範例。

<CRISPEFramework />

<RTFFramework />

## 總結

有效的提示詞是建構出來的，而不是偶然發現的。通過理解和應用這些結構元件，你可以：

- 第一次嘗試就獲得更好的結果
- 偵錯不起作用的提示詞
- 建立可重複使用的提示詞範本
- 清晰地傳達你的意圖

<Quiz
  question="哪個元件對回覆品質影響最大？"
  options={[
    "始終是角色/人設",
    "始終是輸出格式",
    "取決於具體任務",
    "提示詞的長度"
  ]}
  correctIndex={2}
  explanation="不同的任務從不同的元件中受益。簡單的翻譯只需要最少的結構，而複雜的分析則需要詳細的角色、背景和格式說明。"
/>

<TryIt
  prompt={`你是一位擁有10年 SaaS 產品經驗的資深產品經理。

背景：我正在為遠端團隊建構一個任務管理應用。我們是一家工程資源有限的小型新創公司。

任務：建議我們 MVP 應該優先考慮的3個功能。

約束：
- 功能必須能由2名開發人員在4周內實現
- 專注於我們與 Trello 和 Asana 的差異化特點

格式：對於每個功能，提供：
1. 功能名稱
2. 一句話描述
3. 為什麼它對遠端團隊很重要`}
  description="此提示詞使用了所有六個元件。試試看，體驗結構化方法如何產生聚焦、可操作的結果。"
/>

## 建構你自己的提示詞

現在輪到你了！使用這個互動式提示詞建構器，運用你學到的元件來建構你自己的提示詞：

<PromptBuilder
  title="互動式提示詞建構器"
  description="填寫每個部分以建構一個完整、結構良好的提示詞"
/>

<PromptChallenge
  title="章節挑戰：建構程式碼審查提示詞"
  task="編寫一個提示詞，要求 AI 審查程式碼中的安全漏洞。你的提示詞應該足夠具體，以獲得可操作的反饋。"
  criteria={[
    "包含明確的角色或專業級別",
    "指定程式碼審查的類型（安全重點）",
    "定義預期的輸出格式",
    "設定適當的約束或範圍"
  ]}
  hints={[
    "考慮一下程式碼審查者應該具備什麼專業知識",
    "具體說明要查找哪些安全問題",
    "考慮要求結構化的回覆格式"
  ]}
  exampleSolution={`你是一位資深安全工程師，精通 Web 應用安全和 OWASP Top 10 漏洞。

任務：審查以下程式碼中的安全漏洞。

重點關注：
- SQL 注入風險
- XSS 漏洞
- 認證/授權問題
- 輸入驗證缺陷

輸出格式：
對於發現的每個問題：
1. 行數
2. 漏洞類型
3. 風險級別（高/中/低）
4. 建議修復方案

[待審查程式碼]`}
  difficulty="intermediate"
/>

在下一章中，我們將探討指導提示詞建構決策的核心原則。
